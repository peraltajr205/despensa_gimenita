<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comentarios - Despensa Gimenita</title>
    <link rel="stylesheet" href="styles/style.css">
</head>

<body>
    <header>
        <h1>Despensa Gimenita</h1>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">Inicio</a></li>
            <li>
                <a href="#">Productos</a>
                <ul class="submenu">
                    <li><a href="carnicos.html">C√°rnicos</a></li>
                    <li><a href="lacteos.html">L√°cteos</a></li>
                    <li><a href="prd_limpieza.html">Productos de Limpieza</a></li>
                    <li><a href="bebidas.html">Bebidas</a></li>
                </ul>
            </li>
            <li><a href="nosotros.html">Nosotros</a></li>
            <li><a href="comentarios.html" class="active">Comentarios</a></li>
        </ul>
    </nav>

    <main>
        <div class="comentarios-container">
            <!-- Hero section mejorado -->
            <div class="hero-comentarios">
                <h1>¬°Queremos Escucharte!</h1>
                <p>Tu opini√≥n es muy importante para nosotros. Comparte tu experiencia y ay√∫danos a mejorar cada d√≠a.
                </p>
            </div>

            <!-- Formulario mejorado -->
            <div class="form-container">
                <h2 style="color: #2E7D32; margin-bottom: 25px; text-align: center;">D√©janos tu Comentario</h2>
                <form id="comentariosForm">
                    <div class="form-group">
                        <label for="nombre">üë§ Nombre completo:</label>
                        <input type="text" id="nombre" name="nombre" required placeholder="Ingresa tu nombre completo">
                    </div>

                    <div class="form-group">
                        <label for="email">üìß Correo electr√≥nico:</label>
                        <input type="email" id="email" name="email" required placeholder="ejemplo@correo.com">
                    </div>

                    <div class="form-group">
                        <label for="telefono">üì± Tel√©fono (opcional):</label>
                        <input type="tel" id="telefono" name="telefono" placeholder="0984-123-456">
                    </div>

                    <!-- Sistema de calificaci√≥n con estrellas -->
                    <div class="rating-section">
                        <label>‚≠ê Califica tu experiencia:</label>
                        <div class="rating-stars">
                            <span class="star" data-rating="1">‚òÖ</span>
                            <span class="star" data-rating="2">‚òÖ</span>
                            <span class="star" data-rating="3">‚òÖ</span>
                            <span class="star" data-rating="4">‚òÖ</span>
                            <span class="star" data-rating="5">‚òÖ</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="categoria">üè∑Ô∏è Categor√≠a del comentario:</label>
                        <select id="categoria" name="categoria"
                            style="width: 100%; padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1em;">
                            <option value="">Selecciona una categor√≠a</option>
                            <option value="producto">Productos</option>
                            <option value="servicio">Atenci√≥n al Cliente</option>
                            <option value="local">Instalaciones</option>
                            <option value="sugerencia">Sugerencias</option>
                            <option value="otro">Otro</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="comentario">üí¨ Cu√©ntanos tu experiencia:</label>
                        <textarea id="comentario" name="comentario" rows="6" required
                            placeholder="Describe tu experiencia con nosotros, qu√© te gust√≥ m√°s, qu√© podr√≠amos mejorar..."></textarea>
                    </div>

                    <button type="submit" class="submit-btn">Enviar Comentario</button>
                </form>

                <div id="mensajeEnvio" class="mensaje-exito">
                    <h3>¬°Gracias por tu comentario! üéâ</h3>
                    <p>Tu opini√≥n es muy valiosa para nosotros. Te contactaremos pronto.</p>
                </div>
            </div>

            <!-- Secci√≥n de testimonios -->
            <div class="testimonios-section">
                <h2 style="color: #2E7D32; text-align: center; margin-bottom: 30px;">üí≠ Lo que dicen nuestros clientes
                </h2>
                <div class="testimonios-grid">
                    <div class="testimonio-card">
                        <div class="testimonio-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                        <p class="testimonio-texto">"Excelente atenci√≥n y productos frescos. El personal siempre est√°
                            dispuesto a ayudar con una sonrisa."</p>
                        <p class="testimonio-autor">- Mar√≠a Gonz√°lez</p>
                    </div>
                    <div class="testimonio-card">
                        <div class="testimonio-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                        <p class="testimonio-texto">"La mejor despensa del barrio. Precios justos y gran variedad de
                            productos."</p>
                        <p class="testimonio-autor">- Carlos Rodr√≠guez</p>
                    </div>
                    <div class="testimonio-card">
                        <div class="testimonio-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                        <p class="testimonio-texto">"Muy conveniente y siempre tienen lo que necesito. Recomendado al
                            100%."</p>
                        <p class="testimonio-autor">- Ana Mart√≠nez</p>
                    </div>
                </div>
            </div>

            <!-- Secci√≥n de beneficios -->
            <div class="beneficios-section">
                <h2 style="color: #2E7D32; text-align: center; margin-bottom: 20px;">üéÅ ¬øPor qu√© elegirnos?</h2>
                <div class="beneficios-grid">
                    <div class="beneficio-item">
                        <div class="beneficio-icon">üïê</div>
                        <div class="beneficio-title">Horarios Convenientes</div>
                        <p>Abierto todos los d√≠as para tu comodidad</p>
                    </div>
                    <div class="beneficio-item">
                        <div class="beneficio-icon">üí∞</div>
                        <div class="beneficio-title">Precios Justos</div>
                        <p>Los mejores precios del barrio</p>
                    </div>
                    <div class="beneficio-item">
                        <div class="beneficio-icon">üõí</div>
                        <div class="beneficio-title">Gran Variedad</div>
                        <p>Todo lo que necesitas en un solo lugar</p>
                    </div>
                    <div class="beneficio-item">
                        <div class="beneficio-icon">ü§ù</div>
                        <div class="beneficio-title">Atenci√≥n Personalizada</div>
                        <p>Servicio amable y profesional</p>
                    </div>
                </div>
            </div>


        </div>
    </main>

    <footer>
        <p>Encu√©ntranos en nuestras redes sociales:</p>
        <div class="redes-sociales">
            <a href="https://wa.me/0984322168" target="_blank">WhatsApp</a>
        </div>
        <p>&copy; 2024 Despensa Gimenita. Todos los derechos reservados.</p>
    </footer>

    <script>
        // Sistema de calificaci√≥n con estrellas
        let currentRating = 0;
        const stars = document.querySelectorAll('.star');

        // Evento para cada estrella
        stars.forEach((star, index) => {
            // Hover effect - ilumina las estrellas hasta la posici√≥n actual
            star.addEventListener('mouseenter', () => {
                highlightStars(index + 1);
            });

            // Click event - establece la calificaci√≥n
            star.addEventListener('click', () => {
                currentRating = index + 1;
                setRating(currentRating);
            });
        });

        // Restaurar calificaci√≥n cuando el mouse sale del √°rea
        document.querySelector('.rating-stars').addEventListener('mouseleave', () => {
            setRating(currentRating);
        });

        // Funci√≥n para iluminar estrellas
        function highlightStars(rating) {
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        // Funci√≥n para establecer la calificaci√≥n
        function setRating(rating) {
            currentRating = rating;
            highlightStars(rating);
        }

        // Validaci√≥n mejorada del formulario
        document.getElementById('comentariosForm').addEventListener('submit', function (e) {
            e.preventDefault();

            // Obtener valores del formulario
            const nombre = document.getElementById('nombre').value.trim();
            const email = document.getElementById('email').value.trim();
            const telefono = document.getElementById('telefono').value.trim();
            const categoria = document.getElementById('categoria').value;
            const comentario = document.getElementById('comentario').value.trim();

            // Validaciones adicionales
            if (!nombre) {
                alert('Por favor, ingresa tu nombre completo.');
                document.getElementById('nombre').focus();
                return;
            }

            if (!email || !validateEmail(email)) {
                alert('Por favor, ingresa un correo electr√≥nico v√°lido.');
                document.getElementById('email').focus();
                return;
            }

            if (!comentario || comentario.length < 10) {
                alert('Por favor, ingresa un comentario de al menos 10 caracteres.');
                document.getElementById('comentario').focus();
                return;
            }

            // Preparar datos para el correo
            const destinatario = "peraltasanabriaj14@gmail.com";
            const asunto = encodeURIComponent("Nuevo comentario de cliente - Despensa Gimenita");

            // Crear el cuerpo del mensaje con toda la informaci√≥n
            let cuerpoMensaje = `NUEVO COMENTARIO DE CLIENTE\n\n`;
            cuerpoMensaje += `üë§ Nombre: ${nombre}\n`;
            cuerpoMensaje += `üìß Email: ${email}\n`;
            if (telefono) cuerpoMensaje += `üì± Tel√©fono: ${telefono}\n`;
            if (currentRating > 0) cuerpoMensaje += `‚≠ê Calificaci√≥n: ${currentRating}/5 estrellas\n`;
            if (categoria) cuerpoMensaje += `üè∑Ô∏è Categor√≠a: ${categoria}\n`;
            cuerpoMensaje += `\nüí¨ Comentario:\n${comentario}\n\n`;
            cuerpoMensaje += `Fecha: ${new Date().toLocaleString()}\n`;
            cuerpoMensaje += `---\nEnviado desde la p√°gina web de Despensa Gimenita`;

            const cuerpo = encodeURIComponent(cuerpoMensaje);

            // Abrir cliente de correo
            window.location.href = `mailto:${destinatario}?subject=${asunto}&body=${cuerpo}`;

            // Mostrar mensaje de √©xito con animaci√≥n
            const mensajeEnvio = document.getElementById('mensajeEnvio');
            mensajeEnvio.style.display = 'block';

            // Limpiar formulario
            document.getElementById('comentariosForm').reset();
            setRating(0);

            // Scroll suave hacia el mensaje de √©xito
            mensajeEnvio.scrollIntoView({ behavior: 'smooth' });

            // Opcional: Ocultar mensaje despu√©s de 5 segundos
            setTimeout(() => {
                mensajeEnvio.style.display = 'none';
            }, 5000);
        });

        // Funci√≥n para validar email
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        // Efecto de escritura en tiempo real para el contador de caracteres
        document.getElementById('comentario').addEventListener('input', function () {
            const textarea = this;
            const maxLength = 500;
            const currentLength = textarea.value.length;

            // Crear contador si no existe
            let contador = document.getElementById('contador-caracteres');
            if (!contador) {
                contador = document.createElement('div');
                contador.id = 'contador-caracteres';
                contador.style.cssText = 'text-align: right; font-size: 0.9em; color: #666; margin-top: 5px;';
                textarea.parentNode.appendChild(contador);
            }

            // Actualizar contador
            contador.textContent = `${currentLength}/500 caracteres`;

            // Cambiar color si se acerca al l√≠mite
            if (currentLength > 400) {
                contador.style.color = '#ff9800';
            } else if (currentLength > 450) {
                contador.style.color = '#f44336';
            } else {
                contador.style.color = '#666';
            }
        });

        // Animaci√≥n de entrada para las tarjetas de testimonio
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'slideIn 0.6s ease-out forwards';
                }
            });
        }, observerOptions);

        // Observar las tarjetas de testimonio
        document.querySelectorAll('.testimonio-card').forEach(card => {
            observer.observe(card);
        });
    </script>

</body>

</html>